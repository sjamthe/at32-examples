ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"bsp_key.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.IsKeyDown1,"ax",%progbits
  17              		.align	1
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu fpv4-sp-d16
  23              	IsKeyDown1:
  24              	.LFB131:
  25              		.file 1 "bsp/src/bsp_key.c"
   1:bsp/src/bsp_key.c **** /**
   2:bsp/src/bsp_key.c ****   ******************************************************************************
   3:bsp/src/bsp_key.c ****   * @file    FreeRTOS/bsp/bsp_key.c 
   4:bsp/src/bsp_key.c ****   * @author  Artery Technology 
   5:bsp/src/bsp_key.c ****   * @version V1.1.2
   6:bsp/src/bsp_key.c ****   * @date    2019-01-04
   7:bsp/src/bsp_key.c ****   * @brief   Bsp Service Routines.
   8:bsp/src/bsp_key.c ****   ******************************************************************************
   9:bsp/src/bsp_key.c ****   * @attention
  10:bsp/src/bsp_key.c ****   *
  11:bsp/src/bsp_key.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:bsp/src/bsp_key.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:bsp/src/bsp_key.c ****   * TIME. AS A RESULT, ARTERYTEK SHALL NOT BE HELD LIABLE FOR ANY
  14:bsp/src/bsp_key.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:bsp/src/bsp_key.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:bsp/src/bsp_key.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:bsp/src/bsp_key.c ****   *
  18:bsp/src/bsp_key.c ****   * <h2><center>&copy; COPYRIGHT 2018 ArteryTek</center></h2>
  19:bsp/src/bsp_key.c ****   ******************************************************************************
  20:bsp/src/bsp_key.c ****   */ 
  21:bsp/src/bsp_key.c **** 
  22:bsp/src/bsp_key.c **** /* Includes ------------------------------------------------------------------*/
  23:bsp/src/bsp_key.c **** #include "bsp.h"
  24:bsp/src/bsp_key.c **** 
  25:bsp/src/bsp_key.c **** /** @addtogroup AT32F403_StdPeriph_Examples
  26:bsp/src/bsp_key.c ****   * @{
  27:bsp/src/bsp_key.c ****   */
  28:bsp/src/bsp_key.c **** 
  29:bsp/src/bsp_key.c **** /** @addtogroup FreeRTOS_ResManagement_SafelyPrint
  30:bsp/src/bsp_key.c ****   * @{
  31:bsp/src/bsp_key.c ****   */ 
  32:bsp/src/bsp_key.c ****   
  33:bsp/src/bsp_key.c **** /* Private typedef -----------------------------------------------------------*/
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 2


  34:bsp/src/bsp_key.c **** /* Private define ------------------------------------------------------------*/  
  35:bsp/src/bsp_key.c **** #define RCC_ALL_KEY 	RCC_APB2PERIPH_GPIOA 
  36:bsp/src/bsp_key.c **** 
  37:bsp/src/bsp_key.c **** //High level is valid
  38:bsp/src/bsp_key.c **** #define GPIO_PORT_K1    GPIOA
  39:bsp/src/bsp_key.c **** #define GPIO_PIN_K1	    GPIO_Pins_0
  40:bsp/src/bsp_key.c **** 
  41:bsp/src/bsp_key.c **** /* Private macro -------------------------------------------------------------*/
  42:bsp/src/bsp_key.c **** /* Private variables ---------------------------------------------------------*/
  43:bsp/src/bsp_key.c **** static KEY_T s_tBtn[KEY_COUNT];
  44:bsp/src/bsp_key.c **** static KEY_FIFO_T s_tKey;		
  45:bsp/src/bsp_key.c **** 
  46:bsp/src/bsp_key.c **** /* Private function prototypes -----------------------------------------------*/
  47:bsp/src/bsp_key.c **** static void bsp_InitKeyVar(void);
  48:bsp/src/bsp_key.c **** static void bsp_InitKeyHard(void);
  49:bsp/src/bsp_key.c **** static void bsp_DetectKey(uint8_t i);
  50:bsp/src/bsp_key.c **** 
  51:bsp/src/bsp_key.c **** /* Private functions ---------------------------------------------------------*/
  52:bsp/src/bsp_key.c **** 
  53:bsp/src/bsp_key.c **** /**
  54:bsp/src/bsp_key.c ****   * @brief  Check key press
  55:bsp/src/bsp_key.c ****   * @param  None
  56:bsp/src/bsp_key.c ****   * @retval 1:pressed
  57:bsp/src/bsp_key.c ****             0:no pressed
  58:bsp/src/bsp_key.c ****   */
  59:bsp/src/bsp_key.c **** static uint8_t IsKeyDown1(void)
  60:bsp/src/bsp_key.c **** {
  26              		.loc 1 60 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  61:bsp/src/bsp_key.c **** 	if ((GPIO_PORT_K1->IPTDT & GPIO_PIN_K1) == 1)
  31              		.loc 1 61 0
  32 0000 044B     		ldr	r3, .L5
  33 0002 9B68     		ldr	r3, [r3, #8]
  34 0004 13F0010F 		tst	r3, #1
  35 0008 01D1     		bne	.L4
  62:bsp/src/bsp_key.c **** 		return 1;
  63:bsp/src/bsp_key.c **** 	else 
  64:bsp/src/bsp_key.c **** 		return 0;
  36              		.loc 1 64 0
  37 000a 0020     		movs	r0, #0
  65:bsp/src/bsp_key.c **** }
  38              		.loc 1 65 0
  39 000c 7047     		bx	lr
  40              	.L4:
  62:bsp/src/bsp_key.c **** 		return 1;
  41              		.loc 1 62 0
  42 000e 0120     		movs	r0, #1
  43 0010 7047     		bx	lr
  44              	.L6:
  45 0012 00BF     		.align	2
  46              	.L5:
  47 0014 00080140 		.word	1073809408
  48              		.cfi_endproc
  49              	.LFE131:
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 3


  51              		.section	.text.bsp_InitKeyVar,"ax",%progbits
  52              		.align	1
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  56              		.fpu fpv4-sp-d16
  58              	bsp_InitKeyVar:
  59              	.LFB139:
  66:bsp/src/bsp_key.c **** 
  67:bsp/src/bsp_key.c **** /**
  68:bsp/src/bsp_key.c ****   * @brief  Initialize key
  69:bsp/src/bsp_key.c ****   * @param  None
  70:bsp/src/bsp_key.c ****   * @retval None
  71:bsp/src/bsp_key.c ****   */
  72:bsp/src/bsp_key.c **** void bsp_InitKey(void)
  73:bsp/src/bsp_key.c **** {
  74:bsp/src/bsp_key.c **** 	bsp_InitKeyVar();		
  75:bsp/src/bsp_key.c **** 	bsp_InitKeyHard();		
  76:bsp/src/bsp_key.c **** }
  77:bsp/src/bsp_key.c **** 
  78:bsp/src/bsp_key.c **** /**
  79:bsp/src/bsp_key.c ****   * @brief  Store one key value to key FIFO
  80:bsp/src/bsp_key.c ****   * @param  _KeyCode:key value
  81:bsp/src/bsp_key.c ****   * @retval None
  82:bsp/src/bsp_key.c ****   */
  83:bsp/src/bsp_key.c **** void bsp_PutKey(uint8_t _KeyCode)
  84:bsp/src/bsp_key.c **** {
  85:bsp/src/bsp_key.c **** 	s_tKey.Buf[s_tKey.Write] = _KeyCode;
  86:bsp/src/bsp_key.c **** 
  87:bsp/src/bsp_key.c **** 	if (++s_tKey.Write  >= KEY_FIFO_SIZE)
  88:bsp/src/bsp_key.c **** 	{
  89:bsp/src/bsp_key.c **** 		s_tKey.Write = 0;
  90:bsp/src/bsp_key.c **** 	}
  91:bsp/src/bsp_key.c **** }
  92:bsp/src/bsp_key.c **** 
  93:bsp/src/bsp_key.c **** /**
  94:bsp/src/bsp_key.c ****   * @brief  Obtain one key value from key FIFO
  95:bsp/src/bsp_key.c ****   * @param  None
  96:bsp/src/bsp_key.c ****   * @retval ret:key value
  97:bsp/src/bsp_key.c ****   */
  98:bsp/src/bsp_key.c **** uint8_t bsp_GetKey(void)
  99:bsp/src/bsp_key.c **** {
 100:bsp/src/bsp_key.c **** 	uint8_t ret;
 101:bsp/src/bsp_key.c **** 
 102:bsp/src/bsp_key.c **** 	if (s_tKey.Read == s_tKey.Write)
 103:bsp/src/bsp_key.c **** 	{
 104:bsp/src/bsp_key.c **** 		return KEY_NONE;
 105:bsp/src/bsp_key.c **** 	}
 106:bsp/src/bsp_key.c **** 	else
 107:bsp/src/bsp_key.c **** 	{
 108:bsp/src/bsp_key.c **** 		ret = s_tKey.Buf[s_tKey.Read];
 109:bsp/src/bsp_key.c **** 
 110:bsp/src/bsp_key.c **** 		if (++s_tKey.Read >= KEY_FIFO_SIZE)
 111:bsp/src/bsp_key.c **** 		{
 112:bsp/src/bsp_key.c **** 			s_tKey.Read = 0;
 113:bsp/src/bsp_key.c **** 		}
 114:bsp/src/bsp_key.c **** 		return ret;
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 4


 115:bsp/src/bsp_key.c **** 	}
 116:bsp/src/bsp_key.c **** }
 117:bsp/src/bsp_key.c **** 
 118:bsp/src/bsp_key.c **** /**
 119:bsp/src/bsp_key.c ****   * @brief  Obtain key state
 120:bsp/src/bsp_key.c ****   * @param  _ucKeyID:key state to check
 121:bsp/src/bsp_key.c ****   * @retval Key state 1:pressed
 122:bsp/src/bsp_key.c ****                       0:no pressed
 123:bsp/src/bsp_key.c ****   */
 124:bsp/src/bsp_key.c **** uint8_t bsp_GetKeyState(KEY_ID_E _ucKeyID)
 125:bsp/src/bsp_key.c **** {
 126:bsp/src/bsp_key.c **** 	return s_tBtn[_ucKeyID].State;
 127:bsp/src/bsp_key.c **** }
 128:bsp/src/bsp_key.c **** 
 129:bsp/src/bsp_key.c **** void bsp_SetKeyParam(uint8_t _ucKeyID, uint16_t _LongTime, uint8_t  _RepeatSpeed)
 130:bsp/src/bsp_key.c **** {
 131:bsp/src/bsp_key.c **** 	s_tBtn[_ucKeyID].LongTime       = _LongTime;		//0: don't detect long pressed event
 132:bsp/src/bsp_key.c **** 	s_tBtn[_ucKeyID].RepeatSpeed    = _RepeatSpeed;		//0: don't support continuous send key value
 133:bsp/src/bsp_key.c **** 	s_tBtn[_ucKeyID].RepeatCount    = 0;						
 134:bsp/src/bsp_key.c **** }
 135:bsp/src/bsp_key.c **** 
 136:bsp/src/bsp_key.c **** 
 137:bsp/src/bsp_key.c **** /**
 138:bsp/src/bsp_key.c ****   * @brief  Clear key FIFO
 139:bsp/src/bsp_key.c ****   * @param  None
 140:bsp/src/bsp_key.c ****   * @retval None
 141:bsp/src/bsp_key.c ****   */
 142:bsp/src/bsp_key.c **** void bsp_ClearKey(void)
 143:bsp/src/bsp_key.c **** {
 144:bsp/src/bsp_key.c **** 	s_tKey.Read = s_tKey.Write;
 145:bsp/src/bsp_key.c **** }
 146:bsp/src/bsp_key.c **** 
 147:bsp/src/bsp_key.c **** /**
 148:bsp/src/bsp_key.c ****   * @brief  Initialize GPIO for keys
 149:bsp/src/bsp_key.c ****   * @param  None
 150:bsp/src/bsp_key.c ****   * @retval None
 151:bsp/src/bsp_key.c ****   */
 152:bsp/src/bsp_key.c **** static void bsp_InitKeyHard(void)
 153:bsp/src/bsp_key.c **** {
 154:bsp/src/bsp_key.c **** 	GPIO_InitType GPIO_InitStructure;
 155:bsp/src/bsp_key.c **** 
 156:bsp/src/bsp_key.c **** 	RCC_APB2PeriphClockCmd(RCC_ALL_KEY, ENABLE);
 157:bsp/src/bsp_key.c **** 
 158:bsp/src/bsp_key.c **** 	GPIO_InitStructure.GPIO_MaxSpeed    = GPIO_MaxSpeed_50MHz;
 159:bsp/src/bsp_key.c **** 	GPIO_InitStructure.GPIO_Mode        = GPIO_Mode_IN_PD;	
 160:bsp/src/bsp_key.c **** 	
 161:bsp/src/bsp_key.c **** 	GPIO_InitStructure.GPIO_Pins = GPIO_PIN_K1;
 162:bsp/src/bsp_key.c **** 	GPIO_Init(GPIO_PORT_K1, &GPIO_InitStructure);
 163:bsp/src/bsp_key.c **** }
 164:bsp/src/bsp_key.c **** 
 165:bsp/src/bsp_key.c **** /**
 166:bsp/src/bsp_key.c ****   * @brief  Initialize key and FIFO structure
 167:bsp/src/bsp_key.c ****   * @param  None
 168:bsp/src/bsp_key.c ****   * @retval None
 169:bsp/src/bsp_key.c ****   */
 170:bsp/src/bsp_key.c **** static void bsp_InitKeyVar(void)
 171:bsp/src/bsp_key.c **** {
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 5


  60              		.loc 1 171 0
  61              		.cfi_startproc
  62              		@ args = 0, pretend = 0, frame = 0
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64              		@ link register save eliminated.
 172:bsp/src/bsp_key.c **** 	uint8_t i;
 173:bsp/src/bsp_key.c **** 
 174:bsp/src/bsp_key.c **** 	//clear FIFO operation pointer
 175:bsp/src/bsp_key.c **** 	s_tKey.Read     = 0;
  65              		.loc 1 175 0
  66 0000 0B4A     		ldr	r2, .L10
  67 0002 0023     		movs	r3, #0
  68 0004 9372     		strb	r3, [r2, #10]
 176:bsp/src/bsp_key.c **** 	s_tKey.Write    = 0;
  69              		.loc 1 176 0
  70 0006 D372     		strb	r3, [r2, #11]
  71              	.LVL0:
  72              	.L8:
 177:bsp/src/bsp_key.c **** 
 178:bsp/src/bsp_key.c **** 	for (i = 0; i < KEY_COUNT; i++)
  73              		.loc 1 178 0 discriminator 1
  74 0008 1BB1     		cbz	r3, .L9
 179:bsp/src/bsp_key.c **** 	{
 180:bsp/src/bsp_key.c **** 		s_tBtn[i].LongTime = KEY_LONG_TIME;			
 181:bsp/src/bsp_key.c **** 		s_tBtn[i].Count = KEY_FILTER_TIME / 2;		
 182:bsp/src/bsp_key.c **** 		s_tBtn[i].State = 0;							
 183:bsp/src/bsp_key.c **** 		s_tBtn[i].RepeatSpeed = 0;						
 184:bsp/src/bsp_key.c **** 		s_tBtn[i].RepeatCount = 0;						
 185:bsp/src/bsp_key.c **** 	}
 186:bsp/src/bsp_key.c **** 
 187:bsp/src/bsp_key.c **** 	s_tBtn[KID_K1].IsKeyDownFunc = IsKeyDown1;
  75              		.loc 1 187 0
  76 000a 0A4B     		ldr	r3, .L10+4
  77              	.LVL1:
  78 000c 0A4A     		ldr	r2, .L10+8
  79 000e 1A60     		str	r2, [r3]
 188:bsp/src/bsp_key.c **** }
  80              		.loc 1 188 0
  81 0010 7047     		bx	lr
  82              	.LVL2:
  83              	.L9:
 180:bsp/src/bsp_key.c **** 		s_tBtn[i].Count = KEY_FILTER_TIME / 2;		
  84              		.loc 1 180 0 discriminator 3
  85 0012 084A     		ldr	r2, .L10+4
  86 0014 02EB0312 		add	r2, r2, r3, lsl #4
  87 0018 6421     		movs	r1, #100
  88 001a 1181     		strh	r1, [r2, #8]	@ movhi
 181:bsp/src/bsp_key.c **** 		s_tBtn[i].State = 0;							
  89              		.loc 1 181 0 discriminator 3
  90 001c 0221     		movs	r1, #2
  91 001e 1171     		strb	r1, [r2, #4]
 182:bsp/src/bsp_key.c **** 		s_tBtn[i].RepeatSpeed = 0;						
  92              		.loc 1 182 0 discriminator 3
  93 0020 0021     		movs	r1, #0
  94 0022 9172     		strb	r1, [r2, #10]
 183:bsp/src/bsp_key.c **** 		s_tBtn[i].RepeatCount = 0;						
  95              		.loc 1 183 0 discriminator 3
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 6


  96 0024 D172     		strb	r1, [r2, #11]
 184:bsp/src/bsp_key.c **** 	}
  97              		.loc 1 184 0 discriminator 3
  98 0026 1173     		strb	r1, [r2, #12]
 178:bsp/src/bsp_key.c **** 	{
  99              		.loc 1 178 0 discriminator 3
 100 0028 0133     		adds	r3, r3, #1
 101              	.LVL3:
 102 002a DBB2     		uxtb	r3, r3
 103              	.LVL4:
 104 002c ECE7     		b	.L8
 105              	.L11:
 106 002e 00BF     		.align	2
 107              	.L10:
 108 0030 00000000 		.word	.LANCHOR0
 109 0034 00000000 		.word	.LANCHOR1
 110 0038 00000000 		.word	IsKeyDown1
 111              		.cfi_endproc
 112              	.LFE139:
 114              		.section	.text.bsp_InitKeyHard,"ax",%progbits
 115              		.align	1
 116              		.syntax unified
 117              		.thumb
 118              		.thumb_func
 119              		.fpu fpv4-sp-d16
 121              	bsp_InitKeyHard:
 122              	.LFB138:
 153:bsp/src/bsp_key.c **** 	GPIO_InitType GPIO_InitStructure;
 123              		.loc 1 153 0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 8
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127 0000 00B5     		push	{lr}
 128              	.LCFI0:
 129              		.cfi_def_cfa_offset 4
 130              		.cfi_offset 14, -4
 131 0002 83B0     		sub	sp, sp, #12
 132              	.LCFI1:
 133              		.cfi_def_cfa_offset 16
 156:bsp/src/bsp_key.c **** 
 134              		.loc 1 156 0
 135 0004 0121     		movs	r1, #1
 136 0006 0420     		movs	r0, #4
 137 0008 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 138              	.LVL5:
 158:bsp/src/bsp_key.c **** 	GPIO_InitStructure.GPIO_Mode        = GPIO_Mode_IN_PD;	
 139              		.loc 1 158 0
 140 000c 0223     		movs	r3, #2
 141 000e 8DF80630 		strb	r3, [sp, #6]
 159:bsp/src/bsp_key.c **** 	
 142              		.loc 1 159 0
 143 0012 2823     		movs	r3, #40
 144 0014 8DF80730 		strb	r3, [sp, #7]
 161:bsp/src/bsp_key.c **** 	GPIO_Init(GPIO_PORT_K1, &GPIO_InitStructure);
 145              		.loc 1 161 0
 146 0018 02A9     		add	r1, sp, #8
 147 001a 0123     		movs	r3, #1
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 7


 148 001c 21F8043D 		strh	r3, [r1, #-4]!	@ movhi
 162:bsp/src/bsp_key.c **** }
 149              		.loc 1 162 0
 150 0020 0248     		ldr	r0, .L14
 151 0022 FFF7FEFF 		bl	GPIO_Init
 152              	.LVL6:
 163:bsp/src/bsp_key.c **** 
 153              		.loc 1 163 0
 154 0026 03B0     		add	sp, sp, #12
 155              	.LCFI2:
 156              		.cfi_def_cfa_offset 4
 157              		@ sp needed
 158 0028 5DF804FB 		ldr	pc, [sp], #4
 159              	.L15:
 160              		.align	2
 161              	.L14:
 162 002c 00080140 		.word	1073809408
 163              		.cfi_endproc
 164              	.LFE138:
 166              		.section	.text.bsp_InitKey,"ax",%progbits
 167              		.align	1
 168              		.global	bsp_InitKey
 169              		.syntax unified
 170              		.thumb
 171              		.thumb_func
 172              		.fpu fpv4-sp-d16
 174              	bsp_InitKey:
 175              	.LFB132:
  73:bsp/src/bsp_key.c **** 	bsp_InitKeyVar();		
 176              		.loc 1 73 0
 177              		.cfi_startproc
 178              		@ args = 0, pretend = 0, frame = 0
 179              		@ frame_needed = 0, uses_anonymous_args = 0
 180 0000 08B5     		push	{r3, lr}
 181              	.LCFI3:
 182              		.cfi_def_cfa_offset 8
 183              		.cfi_offset 3, -8
 184              		.cfi_offset 14, -4
  74:bsp/src/bsp_key.c **** 	bsp_InitKeyHard();		
 185              		.loc 1 74 0
 186 0002 FFF7FEFF 		bl	bsp_InitKeyVar
 187              	.LVL7:
  75:bsp/src/bsp_key.c **** }
 188              		.loc 1 75 0
 189 0006 FFF7FEFF 		bl	bsp_InitKeyHard
 190              	.LVL8:
  76:bsp/src/bsp_key.c **** 
 191              		.loc 1 76 0
 192 000a 08BD     		pop	{r3, pc}
 193              		.cfi_endproc
 194              	.LFE132:
 196              		.section	.text.bsp_PutKey,"ax",%progbits
 197              		.align	1
 198              		.global	bsp_PutKey
 199              		.syntax unified
 200              		.thumb
 201              		.thumb_func
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 8


 202              		.fpu fpv4-sp-d16
 204              	bsp_PutKey:
 205              	.LFB133:
  84:bsp/src/bsp_key.c **** 	s_tKey.Buf[s_tKey.Write] = _KeyCode;
 206              		.loc 1 84 0
 207              		.cfi_startproc
 208              		@ args = 0, pretend = 0, frame = 0
 209              		@ frame_needed = 0, uses_anonymous_args = 0
 210              		@ link register save eliminated.
 211              	.LVL9:
  85:bsp/src/bsp_key.c **** 
 212              		.loc 1 85 0
 213 0000 054A     		ldr	r2, .L20
 214 0002 D37A     		ldrb	r3, [r2, #11]	@ zero_extendqisi2
 215 0004 D054     		strb	r0, [r2, r3]
  87:bsp/src/bsp_key.c **** 	{
 216              		.loc 1 87 0
 217 0006 0133     		adds	r3, r3, #1
 218 0008 DBB2     		uxtb	r3, r3
 219 000a D372     		strb	r3, [r2, #11]
 220 000c 092B     		cmp	r3, #9
 221 000e 02D9     		bls	.L18
  89:bsp/src/bsp_key.c **** 	}
 222              		.loc 1 89 0
 223 0010 1346     		mov	r3, r2
 224 0012 0022     		movs	r2, #0
 225 0014 DA72     		strb	r2, [r3, #11]
 226              	.L18:
  91:bsp/src/bsp_key.c **** 
 227              		.loc 1 91 0
 228 0016 7047     		bx	lr
 229              	.L21:
 230              		.align	2
 231              	.L20:
 232 0018 00000000 		.word	.LANCHOR0
 233              		.cfi_endproc
 234              	.LFE133:
 236              		.section	.text.bsp_DetectKey,"ax",%progbits
 237              		.align	1
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 241              		.fpu fpv4-sp-d16
 243              	bsp_DetectKey:
 244              	.LFB140:
 189:bsp/src/bsp_key.c **** 
 190:bsp/src/bsp_key.c **** /**
 191:bsp/src/bsp_key.c ****   * @brief  Scan the specified key
 192:bsp/src/bsp_key.c ****   * @param  i:key num
 193:bsp/src/bsp_key.c ****   * @retval None
 194:bsp/src/bsp_key.c ****   */
 195:bsp/src/bsp_key.c **** static void bsp_DetectKey(uint8_t i)
 196:bsp/src/bsp_key.c **** {
 245              		.loc 1 196 0
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 0
 248              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 9


 249              	.LVL10:
 250 0000 10B5     		push	{r4, lr}
 251              	.LCFI4:
 252              		.cfi_def_cfa_offset 8
 253              		.cfi_offset 4, -8
 254              		.cfi_offset 14, -4
 255 0002 0446     		mov	r4, r0
 256              	.LVL11:
 197:bsp/src/bsp_key.c **** 	KEY_T *pBtn;
 198:bsp/src/bsp_key.c **** 
 199:bsp/src/bsp_key.c **** 	pBtn = &s_tBtn[i];
 200:bsp/src/bsp_key.c **** 	if (pBtn->IsKeyDownFunc())//key pressed
 257              		.loc 1 200 0
 258 0004 0301     		lsls	r3, r0, #4
 259 0006 434A     		ldr	r2, .L36
 260 0008 D358     		ldr	r3, [r2, r3]
 261 000a 9847     		blx	r3
 262              	.LVL12:
 263 000c 0028     		cmp	r0, #0
 264 000e 55D0     		beq	.L23
 201:bsp/src/bsp_key.c **** 	{
 202:bsp/src/bsp_key.c **** 		if (pBtn->Count < KEY_FILTER_TIME)
 265              		.loc 1 202 0
 266 0010 404B     		ldr	r3, .L36
 267 0012 03EB0413 		add	r3, r3, r4, lsl #4
 268 0016 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 269 0018 042B     		cmp	r3, #4
 270 001a 21D9     		bls	.L33
 203:bsp/src/bsp_key.c **** 		{
 204:bsp/src/bsp_key.c **** 			pBtn->Count = KEY_FILTER_TIME;
 205:bsp/src/bsp_key.c **** 		}
 206:bsp/src/bsp_key.c **** 		else if(pBtn->Count < 2 * KEY_FILTER_TIME)
 271              		.loc 1 206 0
 272 001c 092B     		cmp	r3, #9
 273 001e 25D9     		bls	.L34
 207:bsp/src/bsp_key.c **** 		{
 208:bsp/src/bsp_key.c **** 			pBtn->Count++;
 209:bsp/src/bsp_key.c **** 		}
 210:bsp/src/bsp_key.c **** 		else
 211:bsp/src/bsp_key.c **** 		{
 212:bsp/src/bsp_key.c **** 			if (pBtn->State == 0)
 274              		.loc 1 212 0
 275 0020 3C4B     		ldr	r3, .L36
 276 0022 03EB0413 		add	r3, r3, r4, lsl #4
 277 0026 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 278 0028 33B3     		cbz	r3, .L35
 279              	.L27:
 213:bsp/src/bsp_key.c **** 			{
 214:bsp/src/bsp_key.c **** 				pBtn->State = 1;
 215:bsp/src/bsp_key.c **** 
 216:bsp/src/bsp_key.c **** 				
 217:bsp/src/bsp_key.c **** 				bsp_PutKey((uint8_t)(3 * i + 1));
 218:bsp/src/bsp_key.c **** 			}
 219:bsp/src/bsp_key.c **** 
 220:bsp/src/bsp_key.c **** 			if (pBtn->LongTime > 0)
 280              		.loc 1 220 0
 281 002a 3A4B     		ldr	r3, .L36
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 10


 282 002c 03EB0413 		add	r3, r3, r4, lsl #4
 283 0030 1B89     		ldrh	r3, [r3, #8]
 284 0032 002B     		cmp	r3, #0
 285 0034 53D0     		beq	.L22
 221:bsp/src/bsp_key.c **** 			{
 222:bsp/src/bsp_key.c **** 				if (pBtn->LongCount < pBtn->LongTime)
 286              		.loc 1 222 0
 287 0036 374A     		ldr	r2, .L36
 288 0038 02EB0412 		add	r2, r2, r4, lsl #4
 289 003c D288     		ldrh	r2, [r2, #6]
 290 003e 9342     		cmp	r3, r2
 291 0040 26D9     		bls	.L28
 223:bsp/src/bsp_key.c **** 				{
 224:bsp/src/bsp_key.c **** 					
 225:bsp/src/bsp_key.c **** 					if (++pBtn->LongCount == pBtn->LongTime)
 292              		.loc 1 225 0
 293 0042 0132     		adds	r2, r2, #1
 294 0044 92B2     		uxth	r2, r2
 295 0046 3349     		ldr	r1, .L36
 296 0048 01EB0411 		add	r1, r1, r4, lsl #4
 297 004c CA80     		strh	r2, [r1, #6]	@ movhi
 298 004e 9342     		cmp	r3, r2
 299 0050 45D1     		bne	.L22
 226:bsp/src/bsp_key.c **** 					{
 227:bsp/src/bsp_key.c **** 						
 228:bsp/src/bsp_key.c **** 						bsp_PutKey((uint8_t)(3 * i + 3));
 300              		.loc 1 228 0
 301 0052 0134     		adds	r4, r4, #1
 302              	.LVL13:
 303 0054 04EB4404 		add	r4, r4, r4, lsl #1
 304              	.LVL14:
 305 0058 E0B2     		uxtb	r0, r4
 306 005a FFF7FEFF 		bl	bsp_PutKey
 307              	.LVL15:
 308 005e 3EE0     		b	.L22
 309              	.LVL16:
 310              	.L33:
 204:bsp/src/bsp_key.c **** 		}
 311              		.loc 1 204 0
 312 0060 2C4B     		ldr	r3, .L36
 313 0062 03EB0414 		add	r4, r3, r4, lsl #4
 314              	.LVL17:
 315 0066 0523     		movs	r3, #5
 316 0068 2371     		strb	r3, [r4, #4]
 317 006a 38E0     		b	.L22
 318              	.LVL18:
 319              	.L34:
 208:bsp/src/bsp_key.c **** 		}
 320              		.loc 1 208 0
 321 006c 294A     		ldr	r2, .L36
 322 006e 02EB0414 		add	r4, r2, r4, lsl #4
 323              	.LVL19:
 324 0072 0133     		adds	r3, r3, #1
 325 0074 2371     		strb	r3, [r4, #4]
 326 0076 32E0     		b	.L22
 327              	.LVL20:
 328              	.L35:
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 11


 214:bsp/src/bsp_key.c **** 
 329              		.loc 1 214 0
 330 0078 264B     		ldr	r3, .L36
 331 007a 03EB0413 		add	r3, r3, r4, lsl #4
 332 007e 0122     		movs	r2, #1
 333 0080 9A72     		strb	r2, [r3, #10]
 217:bsp/src/bsp_key.c **** 			}
 334              		.loc 1 217 0
 335 0082 04EB4400 		add	r0, r4, r4, lsl #1
 336 0086 1044     		add	r0, r0, r2
 337 0088 C0B2     		uxtb	r0, r0
 338 008a FFF7FEFF 		bl	bsp_PutKey
 339              	.LVL21:
 340 008e CCE7     		b	.L27
 341              	.L28:
 229:bsp/src/bsp_key.c **** 					}
 230:bsp/src/bsp_key.c **** 				}
 231:bsp/src/bsp_key.c **** 				else
 232:bsp/src/bsp_key.c **** 				{
 233:bsp/src/bsp_key.c **** 					if (pBtn->RepeatSpeed > 0)
 342              		.loc 1 233 0
 343 0090 204B     		ldr	r3, .L36
 344 0092 03EB0413 		add	r3, r3, r4, lsl #4
 345 0096 D97A     		ldrb	r1, [r3, #11]	@ zero_extendqisi2
 346 0098 09B3     		cbz	r1, .L22
 234:bsp/src/bsp_key.c **** 					{
 235:bsp/src/bsp_key.c **** 						if (++pBtn->RepeatCount >= pBtn->RepeatSpeed)
 347              		.loc 1 235 0
 348 009a 1A46     		mov	r2, r3
 349 009c 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 350 009e 0133     		adds	r3, r3, #1
 351 00a0 DBB2     		uxtb	r3, r3
 352 00a2 1373     		strb	r3, [r2, #12]
 353 00a4 9942     		cmp	r1, r3
 354 00a6 1AD8     		bhi	.L22
 236:bsp/src/bsp_key.c **** 						{
 237:bsp/src/bsp_key.c **** 							pBtn->RepeatCount = 0;
 355              		.loc 1 237 0
 356 00a8 1346     		mov	r3, r2
 357 00aa 0022     		movs	r2, #0
 358 00ac 1A73     		strb	r2, [r3, #12]
 238:bsp/src/bsp_key.c **** 							
 239:bsp/src/bsp_key.c **** 							bsp_PutKey((uint8_t)(3 * i + 1));
 359              		.loc 1 239 0
 360 00ae 04EB4404 		add	r4, r4, r4, lsl #1
 361              	.LVL22:
 362 00b2 601C     		adds	r0, r4, #1
 363 00b4 C0B2     		uxtb	r0, r0
 364 00b6 FFF7FEFF 		bl	bsp_PutKey
 365              	.LVL23:
 366 00ba 10E0     		b	.L22
 367              	.LVL24:
 368              	.L23:
 240:bsp/src/bsp_key.c **** 						}
 241:bsp/src/bsp_key.c **** 					}
 242:bsp/src/bsp_key.c **** 				}
 243:bsp/src/bsp_key.c **** 			}
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 12


 244:bsp/src/bsp_key.c **** 		}
 245:bsp/src/bsp_key.c **** 	}
 246:bsp/src/bsp_key.c **** 	else //key up
 247:bsp/src/bsp_key.c **** 	{
 248:bsp/src/bsp_key.c **** 		if(pBtn->Count > KEY_FILTER_TIME)
 369              		.loc 1 248 0
 370 00bc 154B     		ldr	r3, .L36
 371 00be 03EB0413 		add	r3, r3, r4, lsl #4
 372 00c2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 373 00c4 052B     		cmp	r3, #5
 374 00c6 0BD9     		bls	.L29
 249:bsp/src/bsp_key.c **** 		{
 250:bsp/src/bsp_key.c **** 			pBtn->Count = KEY_FILTER_TIME;
 375              		.loc 1 250 0
 376 00c8 124B     		ldr	r3, .L36
 377 00ca 03EB0413 		add	r3, r3, r4, lsl #4
 378 00ce 0522     		movs	r2, #5
 379 00d0 1A71     		strb	r2, [r3, #4]
 380              	.L30:
 251:bsp/src/bsp_key.c **** 		}
 252:bsp/src/bsp_key.c **** 		else if(pBtn->Count != 0)
 253:bsp/src/bsp_key.c **** 		{
 254:bsp/src/bsp_key.c **** 			pBtn->Count--;
 255:bsp/src/bsp_key.c **** 		}
 256:bsp/src/bsp_key.c **** 		else
 257:bsp/src/bsp_key.c **** 		{
 258:bsp/src/bsp_key.c **** 			if (pBtn->State == 1)
 259:bsp/src/bsp_key.c **** 			{
 260:bsp/src/bsp_key.c **** 				pBtn->State = 0;
 261:bsp/src/bsp_key.c **** 
 262:bsp/src/bsp_key.c **** 				
 263:bsp/src/bsp_key.c **** 				bsp_PutKey((uint8_t)(3 * i + 2));
 264:bsp/src/bsp_key.c **** 			}
 265:bsp/src/bsp_key.c **** 		}
 266:bsp/src/bsp_key.c **** 
 267:bsp/src/bsp_key.c **** 		pBtn->LongCount = 0;
 381              		.loc 1 267 0
 382 00d2 104B     		ldr	r3, .L36
 383 00d4 03EB0414 		add	r4, r3, r4, lsl #4
 384              	.LVL25:
 385 00d8 0023     		movs	r3, #0
 386 00da E380     		strh	r3, [r4, #6]	@ movhi
 268:bsp/src/bsp_key.c **** 		pBtn->RepeatCount = 0;
 387              		.loc 1 268 0
 388 00dc 2373     		strb	r3, [r4, #12]
 389              	.L22:
 269:bsp/src/bsp_key.c **** 	}
 270:bsp/src/bsp_key.c **** }
 390              		.loc 1 270 0
 391 00de 10BD     		pop	{r4, pc}
 392              	.LVL26:
 393              	.L29:
 252:bsp/src/bsp_key.c **** 		{
 394              		.loc 1 252 0
 395 00e0 2BB1     		cbz	r3, .L31
 254:bsp/src/bsp_key.c **** 		}
 396              		.loc 1 254 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 13


 397 00e2 0C4A     		ldr	r2, .L36
 398 00e4 02EB0412 		add	r2, r2, r4, lsl #4
 399 00e8 013B     		subs	r3, r3, #1
 400 00ea 1371     		strb	r3, [r2, #4]
 401 00ec F1E7     		b	.L30
 402              	.L31:
 258:bsp/src/bsp_key.c **** 			{
 403              		.loc 1 258 0
 404 00ee 094B     		ldr	r3, .L36
 405 00f0 03EB0413 		add	r3, r3, r4, lsl #4
 406 00f4 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 407 00f6 012B     		cmp	r3, #1
 408 00f8 EBD1     		bne	.L30
 260:bsp/src/bsp_key.c **** 
 409              		.loc 1 260 0
 410 00fa 064B     		ldr	r3, .L36
 411 00fc 03EB0413 		add	r3, r3, r4, lsl #4
 412 0100 0022     		movs	r2, #0
 413 0102 9A72     		strb	r2, [r3, #10]
 263:bsp/src/bsp_key.c **** 			}
 414              		.loc 1 263 0
 415 0104 04EB4400 		add	r0, r4, r4, lsl #1
 416 0108 0230     		adds	r0, r0, #2
 417 010a C0B2     		uxtb	r0, r0
 418 010c FFF7FEFF 		bl	bsp_PutKey
 419              	.LVL27:
 420 0110 DFE7     		b	.L30
 421              	.L37:
 422 0112 00BF     		.align	2
 423              	.L36:
 424 0114 00000000 		.word	.LANCHOR1
 425              		.cfi_endproc
 426              	.LFE140:
 428              		.section	.text.bsp_GetKey,"ax",%progbits
 429              		.align	1
 430              		.global	bsp_GetKey
 431              		.syntax unified
 432              		.thumb
 433              		.thumb_func
 434              		.fpu fpv4-sp-d16
 436              	bsp_GetKey:
 437              	.LFB134:
  99:bsp/src/bsp_key.c **** 	uint8_t ret;
 438              		.loc 1 99 0
 439              		.cfi_startproc
 440              		@ args = 0, pretend = 0, frame = 0
 441              		@ frame_needed = 0, uses_anonymous_args = 0
 442              		@ link register save eliminated.
 102:bsp/src/bsp_key.c **** 	{
 443              		.loc 1 102 0
 444 0000 084A     		ldr	r2, .L41
 445 0002 937A     		ldrb	r3, [r2, #10]	@ zero_extendqisi2
 446 0004 D27A     		ldrb	r2, [r2, #11]	@ zero_extendqisi2
 447 0006 9342     		cmp	r3, r2
 448 0008 0AD0     		beq	.L40
 108:bsp/src/bsp_key.c **** 
 449              		.loc 1 108 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 14


 450 000a 064A     		ldr	r2, .L41
 451 000c D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 452              	.LVL28:
 110:bsp/src/bsp_key.c **** 		{
 453              		.loc 1 110 0
 454 000e 0133     		adds	r3, r3, #1
 455 0010 DBB2     		uxtb	r3, r3
 456 0012 9372     		strb	r3, [r2, #10]
 457 0014 092B     		cmp	r3, #9
 458 0016 04D9     		bls	.L39
 112:bsp/src/bsp_key.c **** 		}
 459              		.loc 1 112 0
 460 0018 1346     		mov	r3, r2
 461 001a 0022     		movs	r2, #0
 462 001c 9A72     		strb	r2, [r3, #10]
 463 001e 7047     		bx	lr
 464              	.LVL29:
 465              	.L40:
 104:bsp/src/bsp_key.c **** 	}
 466              		.loc 1 104 0
 467 0020 0020     		movs	r0, #0
 468              	.L39:
 116:bsp/src/bsp_key.c **** 
 469              		.loc 1 116 0
 470 0022 7047     		bx	lr
 471              	.L42:
 472              		.align	2
 473              	.L41:
 474 0024 00000000 		.word	.LANCHOR0
 475              		.cfi_endproc
 476              	.LFE134:
 478              		.section	.text.bsp_GetKeyState,"ax",%progbits
 479              		.align	1
 480              		.global	bsp_GetKeyState
 481              		.syntax unified
 482              		.thumb
 483              		.thumb_func
 484              		.fpu fpv4-sp-d16
 486              	bsp_GetKeyState:
 487              	.LFB135:
 125:bsp/src/bsp_key.c **** 	return s_tBtn[_ucKeyID].State;
 488              		.loc 1 125 0
 489              		.cfi_startproc
 490              		@ args = 0, pretend = 0, frame = 0
 491              		@ frame_needed = 0, uses_anonymous_args = 0
 492              		@ link register save eliminated.
 493              	.LVL30:
 126:bsp/src/bsp_key.c **** }
 494              		.loc 1 126 0
 495 0000 024B     		ldr	r3, .L44
 496 0002 03EB0010 		add	r0, r3, r0, lsl #4
 497              	.LVL31:
 127:bsp/src/bsp_key.c **** 
 498              		.loc 1 127 0
 499 0006 807A     		ldrb	r0, [r0, #10]	@ zero_extendqisi2
 500 0008 7047     		bx	lr
 501              	.L45:
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 15


 502 000a 00BF     		.align	2
 503              	.L44:
 504 000c 00000000 		.word	.LANCHOR1
 505              		.cfi_endproc
 506              	.LFE135:
 508              		.section	.text.bsp_SetKeyParam,"ax",%progbits
 509              		.align	1
 510              		.global	bsp_SetKeyParam
 511              		.syntax unified
 512              		.thumb
 513              		.thumb_func
 514              		.fpu fpv4-sp-d16
 516              	bsp_SetKeyParam:
 517              	.LFB136:
 130:bsp/src/bsp_key.c **** 	s_tBtn[_ucKeyID].LongTime       = _LongTime;		//0: don't detect long pressed event
 518              		.loc 1 130 0
 519              		.cfi_startproc
 520              		@ args = 0, pretend = 0, frame = 0
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 522              		@ link register save eliminated.
 523              	.LVL32:
 131:bsp/src/bsp_key.c **** 	s_tBtn[_ucKeyID].RepeatSpeed    = _RepeatSpeed;		//0: don't support continuous send key value
 524              		.loc 1 131 0
 525 0000 034B     		ldr	r3, .L47
 526 0002 03EB0010 		add	r0, r3, r0, lsl #4
 527              	.LVL33:
 528 0006 0181     		strh	r1, [r0, #8]	@ movhi
 132:bsp/src/bsp_key.c **** 	s_tBtn[_ucKeyID].RepeatCount    = 0;						
 529              		.loc 1 132 0
 530 0008 C272     		strb	r2, [r0, #11]
 133:bsp/src/bsp_key.c **** }
 531              		.loc 1 133 0
 532 000a 0023     		movs	r3, #0
 533 000c 0373     		strb	r3, [r0, #12]
 134:bsp/src/bsp_key.c **** 
 534              		.loc 1 134 0
 535 000e 7047     		bx	lr
 536              	.L48:
 537              		.align	2
 538              	.L47:
 539 0010 00000000 		.word	.LANCHOR1
 540              		.cfi_endproc
 541              	.LFE136:
 543              		.section	.text.bsp_ClearKey,"ax",%progbits
 544              		.align	1
 545              		.global	bsp_ClearKey
 546              		.syntax unified
 547              		.thumb
 548              		.thumb_func
 549              		.fpu fpv4-sp-d16
 551              	bsp_ClearKey:
 552              	.LFB137:
 143:bsp/src/bsp_key.c **** 	s_tKey.Read = s_tKey.Write;
 553              		.loc 1 143 0
 554              		.cfi_startproc
 555              		@ args = 0, pretend = 0, frame = 0
 556              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 16


 557              		@ link register save eliminated.
 144:bsp/src/bsp_key.c **** }
 558              		.loc 1 144 0
 559 0000 014B     		ldr	r3, .L50
 560 0002 DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 561 0004 9A72     		strb	r2, [r3, #10]
 145:bsp/src/bsp_key.c **** 
 562              		.loc 1 145 0
 563 0006 7047     		bx	lr
 564              	.L51:
 565              		.align	2
 566              	.L50:
 567 0008 00000000 		.word	.LANCHOR0
 568              		.cfi_endproc
 569              	.LFE137:
 571              		.section	.text.bsp_KeyScan,"ax",%progbits
 572              		.align	1
 573              		.global	bsp_KeyScan
 574              		.syntax unified
 575              		.thumb
 576              		.thumb_func
 577              		.fpu fpv4-sp-d16
 579              	bsp_KeyScan:
 580              	.LFB141:
 271:bsp/src/bsp_key.c **** 
 272:bsp/src/bsp_key.c **** /**
 273:bsp/src/bsp_key.c ****   * @brief  Scan all key
 274:bsp/src/bsp_key.c ****   * @param  None
 275:bsp/src/bsp_key.c ****   * @retval None
 276:bsp/src/bsp_key.c ****   */
 277:bsp/src/bsp_key.c **** void bsp_KeyScan(void)
 278:bsp/src/bsp_key.c **** {
 581              		.loc 1 278 0
 582              		.cfi_startproc
 583              		@ args = 0, pretend = 0, frame = 0
 584              		@ frame_needed = 0, uses_anonymous_args = 0
 585 0000 10B5     		push	{r4, lr}
 586              	.LCFI5:
 587              		.cfi_def_cfa_offset 8
 588              		.cfi_offset 4, -8
 589              		.cfi_offset 14, -4
 590              	.LVL34:
 279:bsp/src/bsp_key.c **** 	uint8_t i;
 280:bsp/src/bsp_key.c **** 
 281:bsp/src/bsp_key.c **** 	for (i = 0; i < KEY_COUNT; i++)
 591              		.loc 1 281 0
 592 0002 0024     		movs	r4, #0
 593              	.LVL35:
 594              	.L53:
 595              		.loc 1 281 0 is_stmt 0 discriminator 1
 596 0004 04B1     		cbz	r4, .L54
 282:bsp/src/bsp_key.c **** 	{
 283:bsp/src/bsp_key.c **** 		bsp_DetectKey(i);
 284:bsp/src/bsp_key.c **** 	}
 285:bsp/src/bsp_key.c **** }
 597              		.loc 1 285 0 is_stmt 1
 598 0006 10BD     		pop	{r4, pc}
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 17


 599              	.LVL36:
 600              	.L54:
 283:bsp/src/bsp_key.c **** 	}
 601              		.loc 1 283 0 discriminator 3
 602 0008 2046     		mov	r0, r4
 603 000a FFF7FEFF 		bl	bsp_DetectKey
 604              	.LVL37:
 281:bsp/src/bsp_key.c **** 	{
 605              		.loc 1 281 0 discriminator 3
 606 000e 0134     		adds	r4, r4, #1
 607              	.LVL38:
 608 0010 E4B2     		uxtb	r4, r4
 609              	.LVL39:
 610 0012 F7E7     		b	.L53
 611              		.cfi_endproc
 612              	.LFE141:
 614              		.section	.bss.s_tBtn,"aw",%nobits
 615              		.align	2
 616              		.set	.LANCHOR1,. + 0
 619              	s_tBtn:
 620 0000 00000000 		.space	16
 620      00000000 
 620      00000000 
 620      00000000 
 621              		.section	.bss.s_tKey,"aw",%nobits
 622              		.align	2
 623              		.set	.LANCHOR0,. + 0
 626              	s_tKey:
 627 0000 00000000 		.space	13
 627      00000000 
 627      00000000 
 627      00
 628              		.text
 629              	.Letext0:
 630              		.file 2 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/machine/_default_types
 631              		.file 3 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/_stdint.h"
 632              		.file 4 "../Libraries/CMSIS/CM4/CoreSupport/core_cm4.h"
 633              		.file 5 "../Libraries/CMSIS/CM4/DeviceSupport/system_at32f4xx.h"
 634              		.file 6 "../Libraries/CMSIS/CM4/DeviceSupport/at32f4xx.h"
 635              		.file 7 "../Libraries/AT32F4xx_StdPeriph_Driver/inc/at32f4xx_gpio.h"
 636              		.file 8 "Inc/FreeRTOSConfig.h"
 637              		.file 9 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/lock.h"
 638              		.file 10 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/_types.h"
 639              		.file 11 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/lib/gcc/arm-none-eabi/7.3.1/include/stddef.
 640              		.file 12 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/reent.h"
 641              		.file 13 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/stdlib.h"
 642              		.file 14 "bsp/inc/bsp_key.h"
 643              		.file 15 "../Libraries/AT32F4xx_StdPeriph_Driver/inc/at32f4xx_rcc.h"
ARM GAS  /var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 bsp_key.c
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:17     .text.IsKeyDown1:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:23     .text.IsKeyDown1:0000000000000000 IsKeyDown1
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:47     .text.IsKeyDown1:0000000000000014 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:52     .text.bsp_InitKeyVar:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:58     .text.bsp_InitKeyVar:0000000000000000 bsp_InitKeyVar
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:108    .text.bsp_InitKeyVar:0000000000000030 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:115    .text.bsp_InitKeyHard:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:121    .text.bsp_InitKeyHard:0000000000000000 bsp_InitKeyHard
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:162    .text.bsp_InitKeyHard:000000000000002c $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:167    .text.bsp_InitKey:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:174    .text.bsp_InitKey:0000000000000000 bsp_InitKey
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:197    .text.bsp_PutKey:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:204    .text.bsp_PutKey:0000000000000000 bsp_PutKey
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:232    .text.bsp_PutKey:0000000000000018 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:237    .text.bsp_DetectKey:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:243    .text.bsp_DetectKey:0000000000000000 bsp_DetectKey
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:424    .text.bsp_DetectKey:0000000000000114 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:429    .text.bsp_GetKey:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:436    .text.bsp_GetKey:0000000000000000 bsp_GetKey
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:474    .text.bsp_GetKey:0000000000000024 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:479    .text.bsp_GetKeyState:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:486    .text.bsp_GetKeyState:0000000000000000 bsp_GetKeyState
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:504    .text.bsp_GetKeyState:000000000000000c $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:509    .text.bsp_SetKeyParam:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:516    .text.bsp_SetKeyParam:0000000000000000 bsp_SetKeyParam
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:539    .text.bsp_SetKeyParam:0000000000000010 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:544    .text.bsp_ClearKey:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:551    .text.bsp_ClearKey:0000000000000000 bsp_ClearKey
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:567    .text.bsp_ClearKey:0000000000000008 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:572    .text.bsp_KeyScan:0000000000000000 $t
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:579    .text.bsp_KeyScan:0000000000000000 bsp_KeyScan
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:615    .bss.s_tBtn:0000000000000000 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:619    .bss.s_tBtn:0000000000000000 s_tBtn
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:622    .bss.s_tKey:0000000000000000 $d
/var/folders/l3/4y5292px21b4835bsnjwqc7w009kq1/T//ccLScrN3.s:626    .bss.s_tKey:0000000000000000 s_tKey

UNDEFINED SYMBOLS
RCC_APB2PeriphClockCmd
GPIO_Init
